digraph g {

    rankdir=LR;
    style=filled;     // DEBUG
    color=lightgrey;  // DEBUG
    splines=ortho;


    subgraph cluster_0 {
        r        [shape=point,  xlabel=<r> ];
        sum2     [shape=circle, label=<&#931;> ];
        Ii       [shape=box,    label=<1 / (s Ti)>];
    }

    subgraph cluster_1 {
        D        [shape=box,    label=<s Td>];
        filter   [shape=box,    label=<1 / (1 + s Tf)>];

    }

    subgraph cluster_2 {
        yi       [shape=point,  xlabel=<y> ];
        sum1     [shape=circle, label=<&#931;> ];
        gain     [shape=box,    label=<kp>];
        v        [shape=point,  xlabel=<v> ];
        actuator [shape=rect,   label=<u(s) / v(s)>];

        u        [shape=point,  xlabel=<u> ];
        process  [shape=rect,   label=<P(s)>       ];
        yo       [shape=point,  xlabel=<y> ];
    }

    subgraph cluster_3 {
        It       [shape=box,    label=<1 / (s Tt)>];
        sum3     [shape=circle, label=<&#931;> ];
    }


    actuator -> u        [];
    D        -> sum1     [];
    filter   -> D        [label=<f>];
    gain     -> v        [];
    Ii       -> sum1     [];
    sum1     -> It       [dir=back];
    process  -> yo       [];
    r        -> sum2     [];
    sum1     -> gain     [];
    sum2     -> Ii       [];
    It       -> sum3     [dir=back];
    u        -> process  [];
    sum3     -> u        [dir=back];
    v        -> sum3     [];
    v        -> actuator [];
    yi       -> filter   [];
    yi       -> sum1     [headlabel=<&#8722;>];
    yi       -> sum2     [headlabel=<&#8722;>];

}
