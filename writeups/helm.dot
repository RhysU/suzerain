digraph g {

    rankdir=LR;
    style=filled;     // DEBUG
    color=lightgrey;  // DEBUG
    splines=curved;

    subgraph cluster_0 {
        r        [shape=point,  xlabel=<r>];
        sum2     [shape=circle, label=<&#931;>];
        Ii       [shape=box,    label=<1 / (s Ti)>];
    }

    subgraph cluster_1 {
        D        [shape=box,    label=<s Td>];
        filter   [shape=box,    label=<1 / (1 + s Tf)>];
    }

    subgraph cluster_2 {
        sum1     [shape=circle, label=<&#931;>];
        gain     [shape=box,    label=<kp>];
        v        [shape=point];
        actuator [shape=rect,   label=<u(s) / v(s)>];

        u        [shape=point,  label=<u>];
        process  [shape=rect,   label=<P(s)>];
    }

    y        [shape=point];
    It       [shape=box,    label=<1 / (s Tt)>];
    sum3     [shape=circle, label=<&#931;>];

    actuator -> u        [arrowhead=none, headlabel=<u>];
    filter   -> D        [label=<f>];
    gain     -> v        [arrowhead=none, headlabel=<v>];
    u        -> process  [];
    v        -> actuator [];

    D        -> sum1     [];
    sum1     -> It       [dir=back];
    Ii       -> sum1     [];
    sum1     -> gain     [];

    r        -> sum2     [];
    sum2     -> Ii       [label=<e>];

    It       -> sum3     [dir=back, label=<es>];
    sum3     -> u        [dir=back];
    v        -> sum3     [headlabel=<&#8722;>];

    process  -> y        [arrowhead=none, label=<y>, weight=2];
    filter   -> y        [dir=back, sametail="y"];
    sum1     -> y        [dir=back, sametail="y", taillabel=<&#8722;>];
    sum2     -> y        [dir=back, sametail="y", taillabel=<&#8722;>];

}
