// #include-time parameters available followed by a sample usage.
// Each of these are #undef-ed at the end of this template file
//
// #define FUNCNAME()  /* Function name, e.g. suzerain_rholut_imexop_packc    */
// #define PACKFUNC()  /* bsmbsm.h pack function, e.g. suzerain_bsmbsm_zpackc */

void
FUNCNAME()(
        const double phi,
        const double km,
        const double kn,
        const suzerain_rholut_imexop_scenario * const s,
        const suzerain_rholut_imexop_ref      * const r,
        const suzerain_rholut_imexop_refld    * const ld,
        const suzerain_bsplineop_workspace    * const w,
        const int ndx_rho,
        const int ndx_rhou,
        const int ndx_rhov,
        const int ndx_rhow,
        const int ndx_rhoe,
        double (*buf)[2],
        suzerain_bsmbsm * const A,
        double (*papt)[2])
{
    assert(w->nderiv >= 2);

    // Compute the BSMBSM structure and named max_kl, max_ku views of w->D.
    *A = suzerain_bsmbsm_construct(5, w->n, w->max_kl, w->max_ku);
    const double * const M  = w->D[0] - (w->max_ku - w->ku[0]);
    const double * const D1 = w->D[1] - (w->max_ku - w->ku[1]);
    const double * const D2 = w->D[2] - (w->max_ku - w->ku[1]);

    // FIXME Implement
}

#undef FUNCNAME
#undef PACKFUNC
